{% extends "layout.html" %}
{% block content %}

<h1>Periodos por carrera</h1>

<hr>

<form action="" method="POST">
	<div class="form-row">
		<div class="form-group col-md-12">
			<label for="carrera">Carrera</label>
			<select class="form-control" id="carrera" name="carrera" required>
				<option value="" selected>Seleccione la carrera</option>
				{% for i in carreras %}
				{% if carrera | int == i[0] | int %}
				<option value="{{i[0]}}" selected>{{i[1]}} - {{i[2]}}</option>
				{% else %}
				<option value="{{i[0]}}">{{i[1]}} - {{i[2]}}</option>
				{% endif %}
				{% endfor %}
			</select>
		</div>
	</div>
	<div class="form-row">
		<div class="form-group col-md-6">
			<label for="desde">Desde</label>
			<input type="date" class="form-control" id="desde" name="desde" placeholder="Fecha Inicio" value="{{desde}}" required>
		</div>
		<div class="form-group col-md-6">
			<label for="hasta">Hasta</label>
			<input type="date" class="form-control" id="hasta" name="hasta" placeholder="Fecha Fin" value="{{hasta}}" required>
		</div>
	</div>
	<center><button type="submit" class="btn btn-primary">Verificar</button></center>
</form>

<center><h1>Desplegado por Mes</h1></center>
<table class="table table-striped sortable">
	<thead>
		<tr>
			<th>Abreviatura</th>
			<th>Nombre</th>
			<th>Apellido</th>
			<th>Total Periodos</th>
			<th>Registrados</th>
			<th>Sin Registrar</th>
		</tr>
	</thead>
	<tbody>
		{% for i in dataanios %}
			{% for j in i %}
				{% if j|length > 0 %}
				<tr>
					<th colspan="6"><center>{{j[0][6]}} {{j[0][7]}}</center></th>
				</tr>
				{% endif %}
				{% for k in j %}
					<tr>
						<td>{{k[0]}}</td>
						<td>{{k[1]}}</td>
						<td>{{k[2]}}</td>
						<td>{{k[3]}}</td>
						<td>{{k[4]}}</td>
						<td>{{k[5]}}</td>
					</tr>
				{% endfor %}
			{% endfor %}
		{% endfor %}
	</tbody>
</table>

{% endblock %}